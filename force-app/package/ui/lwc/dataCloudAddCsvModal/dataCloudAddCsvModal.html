<template>
    
    <lightning-spinner 
        lwc:if          = {loading}
        alternative-text= "Loading" 
        size            = "medium"
        variant         = "base"
    ></lightning-spinner>

    <lightning-modal-header label="Add CSV (Data) to Bulk Job"></lightning-modal-header>

    <lightning-modal-body>
    
        <div class="slds-var-p-bottom_medium" if:false={isUpload}>
            <div class="slds-form-element">
                <div class="slds-form-element__control">
                    <textarea id="ta" placeholder="CSV String..." class="slds-textarea ta" onchange={handleChangeCsvData}>{csvData}</textarea>
                </div>
            </div>
        </div>

        <lightning-file-upload
            lwc:if          = {isUpload}
            label           = "Upload CSV File"
            name            = "fileUploader"
            accept          = {acceptedFormats}
            onuploadfinished= {handleUploadFinished}
            disabled        = {fileUploadDisabled}
        ></lightning-file-upload>

        <div class="slds-var-p-top_medium" lwc:if={documentInfoVisible}>
            <b>Document Id:</b> {document.id}<br/>
            <b>Document Name:</b> {document.name}<br/>
            <b>Document Status:</b> {document.status}<br/>
            <b>Document Content Body Id:</b> {document.contentBodyId}<br/>
            <b>Document Content Version Id:</b> {document.contentVersionId}<br/>
        </div>

    </lightning-modal-body>
    
    <lightning-modal-footer>
        <lightning-button-group>
            <lightning-button label="Add CSV" onclick={handleClickAddCsv} variant={variant} if:false={isUpload}></lightning-button>
            <lightning-button label="Close"   onclick={handleClickClose}></lightning-button>
        </lightning-button-group>

    </lightning-modal-footer>
</template>